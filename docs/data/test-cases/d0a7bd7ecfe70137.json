{"uid":"d0a7bd7ecfe70137","name":"Login API should authenticate valid user","fullName":"api_tests.tests.test_login#test_login_success","historyId":"f58ff36ef206eaeec5c498708bec65e7","time":{"start":1762331219720,"stop":1762331219725,"duration":5},"description":"Verifies that a user can login successfully and receives a valid token or success response","descriptionHtml":"<p>Verifies that a user can login successfully and receives a valid token or success response</p>\n","status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?","statusTrace":"@allure.title(\"Login API should authenticate valid user\")\n    @allure.description(\"Verifies that a user can login successfully and receives a valid token or success response\")\n    def test_login_success():\n        client = APIClient(BASE_URL)\n    \n        headers = {\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n            \"device-id\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36\"\n        }\n    \n        data = {\n            \"username\": \"user306988371\",\n            \"password\": \"My4KfWLJ\"\n        }\n    \n        with allure.step(\"Send login request\"):\n>           response = client.post(LOGIN_ENDPOINT, data=data, headers=headers)\n\napi_tests/tests/test_login.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_tests/utils/api_client.py:10: in post\n    response = self.session.post(url, data, headers=headers)\n.venv/lib/python3.9/site-packages/requests/sessions.py:637: in post\n    return self.request(\"POST\", url, data=data, json=json, **kwargs)\n.venv/lib/python3.9/site-packages/requests/sessions.py:575: in request\n    prep = self.prepare_request(req)\n.venv/lib/python3.9/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n.venv/lib/python3.9/site-packages/requests/models.py:367: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant https://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?\n\n.venv/lib/python3.9/site-packages/requests/models.py:438: MissingSchema","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Verifies that a user can login successfully and receives a valid token or success response","status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?","statusTrace":"@allure.title(\"Login API should authenticate valid user\")\n    @allure.description(\"Verifies that a user can login successfully and receives a valid token or success response\")\n    def test_login_success():\n        client = APIClient(BASE_URL)\n    \n        headers = {\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n            \"device-id\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36\"\n        }\n    \n        data = {\n            \"username\": \"user306988371\",\n            \"password\": \"My4KfWLJ\"\n        }\n    \n        with allure.step(\"Send login request\"):\n>           response = client.post(LOGIN_ENDPOINT, data=data, headers=headers)\n\napi_tests/tests/test_login.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_tests/utils/api_client.py:10: in post\n    response = self.session.post(url, data, headers=headers)\n.venv/lib/python3.9/site-packages/requests/sessions.py:637: in post\n    return self.request(\"POST\", url, data=data, json=json, **kwargs)\n.venv/lib/python3.9/site-packages/requests/sessions.py:575: in request\n    prep = self.prepare_request(req)\n.venv/lib/python3.9/site-packages/requests/sessions.py:484: in prepare_request\n    p.prepare(\n.venv/lib/python3.9/site-packages/requests/models.py:367: in prepare\n    self.prepare_url(url, params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <PreparedRequest [POST]>, url = '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login'\nparams = OrderedDict()\n\n    def prepare_url(self, url, params):\n        \"\"\"Prepares the given HTTP URL.\"\"\"\n        #: Accept objects that have string representations.\n        #: We're unable to blindly call unicode/str functions\n        #: as this will include the bytestring indicator (b'')\n        #: on python 3.x.\n        #: https://github.com/psf/requests/pull/2238\n        if isinstance(url, bytes):\n            url = url.decode(\"utf8\")\n        else:\n            url = str(url)\n    \n        # Remove leading whitespaces from url\n        url = url.lstrip()\n    \n        # Don't do any URL preparation for non-HTTP schemes like `mailto`,\n        # `data` etc to work around exceptions from `url_parse`, which\n        # handles RFC 3986 only.\n        if \":\" in url and not url.lower().startswith(\"http\"):\n            self.url = url\n            return\n    \n        # Support for unicode domain names and paths.\n        try:\n            scheme, auth, host, port, path, query, fragment = parse_url(url)\n        except LocationParseError as e:\n            raise InvalidURL(*e.args)\n    \n        if not scheme:\n>           raise MissingSchema(\n                f\"Invalid URL {url!r}: No scheme supplied. \"\n                f\"Perhaps you meant https://{url}?\"\n            )\nE           requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?\n\n.venv/lib/python3.9/site-packages/requests/models.py:438: MissingSchema","steps":[{"name":"Send login request","time":{"start":1762331219720,"stop":1762331219721,"duration":1},"status":"broken","statusMessage":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?\n","statusTrace":"  File \"/Users/abdulbasitswe/PythonProject3/api_tests/tests/test_login.py\", line 24, in test_login_success\n    response = client.post(LOGIN_ENDPOINT, data=data, headers=headers)\n  File \"/Users/abdulbasitswe/PythonProject3/api_tests/utils/api_client.py\", line 10, in post\n    response = self.session.post(url, data, headers=headers)\n  File \"/Users/abdulbasitswe/PythonProject3/.venv/lib/python3.9/site-packages/requests/sessions.py\", line 637, in post\n    return self.request(\"POST\", url, data=data, json=json, **kwargs)\n  File \"/Users/abdulbasitswe/PythonProject3/.venv/lib/python3.9/site-packages/requests/sessions.py\", line 575, in request\n    prep = self.prepare_request(req)\n  File \"/Users/abdulbasitswe/PythonProject3/.venv/lib/python3.9/site-packages/requests/sessions.py\", line 484, in prepare_request\n    p.prepare(\n  File \"/Users/abdulbasitswe/PythonProject3/.venv/lib/python3.9/site-packages/requests/models.py\", line 367, in prepare\n    self.prepare_url(url, params)\n  File \"/Users/abdulbasitswe/PythonProject3/.venv/lib/python3.9/site-packages/requests/models.py\", line 438, in prepare_url\n    raise MissingSchema(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"api_tests.tests"},{"name":"suite","value":"test_login"},{"name":"host","value":"Abdulbasits-MacBook-Pro.local"},{"name":"thread","value":"58826-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api_tests.tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"d0a7bd7ecfe70137.json","parameterValues":[]}