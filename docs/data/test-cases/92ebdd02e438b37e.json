{"uid":"92ebdd02e438b37e","name":"Login API should authenticate valid user","fullName":"api_tests.tests.test_login#test_login_success","historyId":"f58ff36ef206eaeec5c498708bec65e7","time":{"start":1762945505217,"stop":1762945505343,"duration":126},"description":"Verifies that a user can login successfully and receives a valid token or success response","descriptionHtml":"<p>Verifies that a user can login successfully and receives a valid token or success response</p>\n","status":"failed","statusMessage":"AssertionError: Unexpected status: 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","statusTrace":"@allure.title(\"Login API should authenticate valid user\")\n    @allure.description(\"Verifies that a user can login successfully and receives a valid token or success response\")\n    def test_login_success():\n        client = APIClient(BASE_URL)\n    \n        headers = {\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n            \"device-id\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36\"\n        }\n    \n        data = {\n            \"username\": \"user30698837\",\n            \"password\": \"My4KfWLJ\"\n        }\n    \n        response = client.post(LOGIN_ENDPOINT, data=data, headers=headers)\n    \n        # Assertions\n        with allure.step(\"Verify response status\"):\n>           assert response.status_code == 200, f\"Unexpected status: {response.status_code}\"\nE           AssertionError: Unexpected status: 401\nE           assert 401 == 200\nE            +  where 401 = <Response [401]>.status_code\n\napi_tests/tests/test_login.py:27: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":31,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1762945505216,"stop":1762945505216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762945505216,"stop":1762945505216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762945505216,"stop":1762945505216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762945505216,"stop":1762945505216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verifies that a user can login successfully and receives a valid token or success response","status":"failed","statusMessage":"AssertionError: Unexpected status: 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","statusTrace":"@allure.title(\"Login API should authenticate valid user\")\n    @allure.description(\"Verifies that a user can login successfully and receives a valid token or success response\")\n    def test_login_success():\n        client = APIClient(BASE_URL)\n    \n        headers = {\n            \"Accept\": \"application/json, text/plain, */*\",\n            \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n            \"device-id\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36\"\n        }\n    \n        data = {\n            \"username\": \"user30698837\",\n            \"password\": \"My4KfWLJ\"\n        }\n    \n        response = client.post(LOGIN_ENDPOINT, data=data, headers=headers)\n    \n        # Assertions\n        with allure.step(\"Verify response status\"):\n>           assert response.status_code == 200, f\"Unexpected status: {response.status_code}\"\nE           AssertionError: Unexpected status: 401\nE           assert 401 == 200\nE            +  where 401 = <Response [401]>.status_code\n\napi_tests/tests/test_login.py:27: AssertionError","steps":[{"name":"POST '/services/platon-auth/api/login'","time":{"start":1762945505217,"stop":1762945505341,"duration":124},"status":"passed","steps":[],"attachments":[{"uid":"bbf1aac42ece75a8","name":"Request","source":"bbf1aac42ece75a8.json","type":"application/json","size":413},{"uid":"405f8dc7b39bea2e","name":"Response","source":"405f8dc7b39bea2e.json","type":"application/json","size":215}],"parameters":[{"name":"endpoint","value":"'/services/platon-auth/api/login'"},{"name":"data","value":"{'username': 'user30698837', 'password': 'My4KfWLJ'}"},{"name":"headers","value":"{'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8', 'device-id': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36'}"},{"name":"json_data","value":"None"}],"shouldDisplayMessage":false,"attachmentsCount":2,"stepsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Verify response status","time":{"start":1762945505341,"stop":1762945505342,"duration":1},"status":"failed","statusMessage":"AssertionError: Unexpected status: 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code\n","statusTrace":"  File \"/Users/abdulbasitswe/PythonProject3/api_tests/tests/test_login.py\", line 27, in test_login_success\n    assert response.status_code == 200, f\"Unexpected status: {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"api_tests.tests"},{"name":"suite","value":"test_login"},{"name":"host","value":"Abdulbasits-MacBook-Pro.local"},{"name":"thread","value":"97678-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api_tests.tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"149044ef34922c90","status":"failed","statusDetails":"AssertionError: Unexpected status: 401\nassert 401 == 200\n +  where 401 = <Response [401]>.status_code","time":{"start":1762945149034,"stop":1762945149089,"duration":55}},{"uid":"be77090b66ee8cf5","status":"passed","time":{"start":1762945028327,"stop":1762945028466,"duration":139}},{"uid":"8ba5fc296b5efa39","status":"passed","time":{"start":1762944756588,"stop":1762944756669,"duration":81}},{"uid":"643a19fe6a855333","status":"passed","time":{"start":1762941337441,"stop":1762941337507,"duration":66}},{"uid":"4ce73e483fd16091","status":"passed","time":{"start":1762941007762,"stop":1762941008009,"duration":247}},{"uid":"42402439ad44cb21","status":"passed","time":{"start":1762940992537,"stop":1762940992743,"duration":206}},{"uid":"f1a9306a66b50f54","status":"passed","time":{"start":1762939519726,"stop":1762939519818,"duration":92}},{"uid":"dd99d41e400046e4","status":"passed","time":{"start":1762512074761,"stop":1762512074904,"duration":143}},{"uid":"974b8a8ee484a7ef","status":"passed","time":{"start":1762512047504,"stop":1762512047641,"duration":137}},{"uid":"91120c203915f60c","status":"passed","time":{"start":1762511948650,"stop":1762511948762,"duration":112}},{"uid":"982b20ce4a2f2fae","status":"passed","time":{"start":1762511858979,"stop":1762511859109,"duration":130}},{"uid":"e76efe350481492a","status":"passed","time":{"start":1762509624796,"stop":1762509624920,"duration":124}},{"uid":"15bd0905936790ac","status":"passed","time":{"start":1762509433024,"stop":1762509433178,"duration":154}},{"uid":"813f3dc9da28cd19","status":"passed","time":{"start":1762508903270,"stop":1762508903490,"duration":220}},{"uid":"7a1d90365d472cec","status":"passed","time":{"start":1762499112815,"stop":1762499112939,"duration":124}},{"uid":"3a866f146431244f","status":"passed","time":{"start":1762498920056,"stop":1762498920182,"duration":126}},{"uid":"d818d023d6e4e5d","status":"passed","time":{"start":1762415428817,"stop":1762415428892,"duration":75}},{"uid":"3b299cb2efc95dc8","status":"passed","time":{"start":1762341588729,"stop":1762341588859,"duration":130}},{"uid":"4a199d025fd52fc7","status":"passed","time":{"start":1762340999637,"stop":1762340999700,"duration":63}},{"uid":"f017de1f99568116","status":"passed","time":{"start":1762340985339,"stop":1762340985408,"duration":69}},{"uid":"241d7097eb0b6ce7","status":"passed","time":{"start":1762340870989,"stop":1762340871168,"duration":179}},{"uid":"e66f15d704358820","status":"passed","time":{"start":1762340392225,"stop":1762340392289,"duration":64}},{"uid":"7dc14d64e0fac9b5","status":"passed","time":{"start":1762340245591,"stop":1762340245859,"duration":268}},{"uid":"9b1476d8e6bfa48f","status":"passed","time":{"start":1762340010558,"stop":1762340010734,"duration":176}},{"uid":"b98bda362f1f72d","status":"passed","time":{"start":1762338164839,"stop":1762338165130,"duration":291}},{"uid":"1b9b8ceb43df75eb","status":"failed","statusDetails":"AssertionError: No access token in response\nassert 'access_token' in {'data': {'access_token': 'eyJhbGciOiJSUzI1NiJ9.eyJ1cGRhdGVfaWQiOjEwODMxNywic3ViIjoiY2MwNWMzZTktNjQzNC00ZDc5LWJlNGMtZTc0MWVkZWY0ZGFhIiwicm9sZXMiOiIiLCJpc3MiOiIiLCJ0eXBlIjoiQmVhcmVyIiwibG9jYWxlIjoicnUiLCJzaWQiOiJlY2JlYjVjYS03ODE0LTRhMDktOWQyZi1jMGVhY2FjOTIzODQiLCJhdWQiOiJhY2NvdW50IiwiZnVsbF9uYW1lIjoiQkVTVCBSRUxJQUJMRSBCVVNJTkVTUy0yIE1DSEoiLCJleHAiOjE3NjIzNTU5MTQsInNlc3Npb25fc3RhdGUiOiJTVEFURUxFU1MiLCJpYXQiOjE3NjIzMzc5MTQsImp0aSI6Ijg4NTg2Y2JmLWE3NzQtNGU2ZC05MTQxLWE3MjE0ZDhjNTZlNyIsInVzZXJuYW1lIjoidXNlcjMwNjk4ODM3MSJ9.uc6E5CdvjwkbQKfVlROWOIQyMzaXplP6r-86WprxclNmHChh3Hcske7lCG664rGwumkbvQEpeJccxVnjX_xEadCbb9lJChp8PFEkXwb9Sjod9aiT_urUr-6kipyxpwt3Daz_O1dTJDounx1azj2dgS3ltYmYOk97BrB2WrX1jLVViWqTWgifJy0Lk2IlR2W-EubQvqzQBrYH9ptL9whom9JNOJHbCXtF7Is7scfDpD9LowUNss0a1oMpb95P8hiB4v3WKk24IbjWFMcpfyNSkWGqGk3HKgzXITXpaH_OlO81rzbArp-lXY3quwkuEXGTZVls-riFKC-Aaxecty9Ndw', 'expires_in': 18000000, 'refresh_expires_in': 36000000, 'refresh_token': 'eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjYzA1YzNlOS02NDM0LTRkNzktYmU0Yy1lNzQxZWRlZjRkYWEiLCJhdWQiOiJhY2NvdW50IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgyL2dhdGV3YXkvcGxhdG9uLWF1dGgvcmVhbG1zL2RldiIsImV4cCI6MTc2MjM3MzkxNCwic2Vzc2lvbl9zdGF0ZSI6IlNUQVRFTEVTUyIsImlhdCI6MTc2MjMzNzkxNCwianRpIjoiODg1ODZjYmYtYTc3NC00ZTZkLTkxNDEtYTcyMTRkOGM1NmU3Iiwic2lkIjoiZWNiZWI1Y2EtNzgxNC00YTA5LTlkMmYtYzBlYWNhYzkyMzg0IiwidXNlcm5hbWUiOiJ1c2VyMzA2OTg4MzcxIn0.u8htKxTM18eRU5yQXq6R43H_VHeOHYYEY1M_USstj7JI9TJd8LncGh_3i4GrhQkRdvxYbFHmPc3oXqEGh3Iq0mIu-qfBcDI_5Z1sDX96eVb21CxNDpuaCdT-KGkOoFD9_76ZFKzxi1HsMjG5PFDm1K_5SWHzfmlzTT52xgi0STZF_jo_bPOIi8nA9CTF6R6GBp9XHswg8Ns8sDGOzSRZK58rEPpUdhgKoWusdMit6_16aiUh8etykA5v-zKotuSxscqw26twrJFiyzT6Ekuzc7-arTgFSFuaQtrLBoP0fGefeBFEULMT33S6C-BcT9rC85ITDLKbVLZYMc_JSPXMlw', ...}, 'status': 'OK', 'timestamp': 1762337914798}","time":{"start":1762337914153,"stop":1762337914285,"duration":132}},{"uid":"77726fe116b0656c","status":"passed","time":{"start":1762335690556,"stop":1762335690639,"duration":83}},{"uid":"ec17dfaf719e8f9a","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x10b400070>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x10b400070>>/services/platon-auth/api/login?","time":{"start":1762335614719,"stop":1762335614724,"duration":5}},{"uid":"ce19588c9a5b4cd4","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x1069e2160>>services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x1069e2160>>services/platon-auth/api/login?","time":{"start":1762335433897,"stop":1762335433901,"duration":4}},{"uid":"d1df92f691004585","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x10903b220>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x10903b220>>/services/platon-auth/api/login?","time":{"start":1762331495713,"stop":1762331495718,"duration":5}},{"uid":"a7cd36c26dd81d2c","status":"broken","statusDetails":"requests.exceptions.MissingSchema: Invalid URL '<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login': No scheme supplied. Perhaps you meant https://<bound method Session.post of <requests.sessions.Session object at 0x109398130>>/services/platon-auth/api/login?","time":{"start":1762331219720,"stop":1762331219725,"duration":5}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"92ebdd02e438b37e.json","parameterValues":[]}